# Auto-Generated Code Configuration

## Overview

This project uses auto-generated code from OpenAPI specifications. The auto-generated code is intentionally excluded from certain code quality checks to avoid false positives and maintain a smooth development workflow.

## Auto-Generated Directories

### `src/services/`

This directory contains TypeScript code auto-generated by `@hey-api/openapi-ts` from the OpenAPI specification file (`openapi.json`).

**DO NOT manually edit files in this directory!** Any manual changes will be overwritten when the code is regenerated.

## Regenerating Code

To regenerate the services from the OpenAPI specification:

```bash
npm run openapi
```

Or:

```bash
pnpm openapi
```

## Linting Configuration

### ESLint Exclusion

The `src/services/` directory is excluded from ESLint checks via `.eslintignore`:

```
# .eslintignore
src/services/
```

This prevents linting errors in auto-generated code from blocking git commits.

### Lint-Staged Configuration

The `.lintstagedrc` configuration is set up to:

1. **Skip ESLint** for files in `src/services/` during pre-commit hooks
2. **Run Prettier** on these files to maintain consistent formatting

```json
{
  "!(src/services/**/*)*.ts?(x)": [
    "max lint --fix --eslint-only",
    "prettier --cache --parser=typescript --write"
  ],
  "src/services/**/*.ts?(x)": ["prettier --cache --parser=typescript --write"]
}
```

This means:

- ✅ Auto-generated files are formatted with Prettier
- ✅ Auto-generated files are NOT checked with ESLint
- ✅ All other TypeScript files are both linted and formatted

## Git Workflow

When you commit code that includes changes to `src/services/`:

1. **Pre-commit hook runs** via Husky
2. **Lint-staged processes files**:
   - Auto-generated files (`src/services/**/*.ts`) → Prettier only
   - Your code files → ESLint + Prettier
3. **Commit proceeds** without linting errors from auto-generated code

## Why This Configuration?

Auto-generated code often doesn't follow the same linting rules as hand-written code:

- May use patterns flagged by linters (e.g., `any` types, unused parameters)
- Generated by tools optimized for compatibility, not style
- Should not be manually modified anyway
- Regenerating code would reintroduce "fixed" linting issues

By excluding auto-generated code from linting while keeping formatting, we:

✅ Avoid blocking commits due to auto-generated code issues  
✅ Maintain consistent formatting across the codebase  
✅ Focus code quality checks on code we actually maintain  
✅ Keep the development workflow smooth and efficient

## Updating OpenAPI Specification

When your backend API changes:

1. Update `openapi.json` with the new specification
2. Run `npm run openapi` to regenerate services
3. Test the generated code works correctly
4. Commit both `openapi.json` and the generated `src/services/` files
5. The pre-commit hooks will format but not lint the generated code

## Related Files

- `.eslintignore` - ESLint exclusion patterns
- `.lintstagedrc` - Lint-staged configuration for pre-commit hooks
- `openapi-ts.config.ts` - OpenAPI code generation configuration
- `.husky/pre-commit` - Git pre-commit hook configuration
